# Copy this file to config/runtime.env and fill in your environment values.
# Never commit real credentials.

# Storage mode: s3 (recommended) or local
RTPHELPER_STORAGE_MODE=s3

# S3 target
RTPHELPER_S3_ENDPOINT=s3.amazonaws.com
RTPHELPER_S3_REGION=eu-west-1
RTPHELPER_S3_PATH=your-bucket-name/rtp-captures

# Upload tuning
RTPHELPER_S3_POOL_CAPTURE=6
RTPHELPER_S3_POOL_POST_CAPTURE=60
RTPHELPER_S3_UPLOAD_WORKERS_MAX=6
RTPHELPER_S3_UPLOAD_CONCURRENCY_CAPTURE=2
RTPHELPER_S3_UPLOAD_CONCURRENCY_POST_CAPTURE=4
RTPHELPER_S3_UPLOAD_MAX_ATTEMPTS=5
RTPHELPER_S3_MAINTENANCE_MAX_FILES_ACTIVE=50

# Multipart tuning (accepts bytes or human-readable sizes: 200MB, 100MiB, 1GB)
RTPHELPER_S3_MULTIPART_THRESHOLD_BYTES=200MB
RTPHELPER_S3_MULTIPART_CHUNKSIZE_BYTES=100MB
RTPHELPER_S3_MULTIPART_MAX_CONCURRENCY=10
RTPHELPER_S3_MULTIPART_USE_THREADS=1

# Rolling capture settings (accepts bytes or human-readable sizes)
RTPHELPER_ROLLING_PCAP_MAX_BYTES=500MB
RTPHELPER_ROLLING_PCAP_MAX_SECONDS=0
RTPHELPER_LOCAL_SPOOL_MAX_BYTES=5368709120

# RPCAP capture tuning
# Read timeout in milliseconds (how often client reads from server buffer)
# Lower values = more frequent reads = less packet loss risk
# Recommended: 100-200ms for production, default: 1000ms
RTPHELPER_RPCAP_READ_TIMEOUT_MS=100

# RPCAP reconnect behavior
RTPHELPER_RPCAP_RECONNECT_BASE_SECONDS=2
RTPHELPER_RPCAP_RECONNECT_MAX_SECONDS=30
RTPHELPER_RPCAP_RECONNECT_MAX_ATTEMPTS=3

# Optional override for capture root (otherwise uses hosts.yaml settings.default_capture_root)
# RTPHELPER_CAPTURE_ROOT=/absolute/path/for/captures

# Correlation filtering parallelization
# Maximum number of parallel workers for RTP packet filtering (tshark operations)
RTPHELPER_MAX_PARALLEL_FILTER_WORKERS=10

# AWS credentials (use least-privilege credentials)
AWS_ACCESS_KEY_ID=YOUR_ACCESS_KEY_ID
AWS_SECRET_ACCESS_KEY=YOUR_SECRET_ACCESS_KEY
# AWS_SESSION_TOKEN=YOUR_SESSION_TOKEN
